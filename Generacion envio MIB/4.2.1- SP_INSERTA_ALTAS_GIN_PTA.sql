CREATE OR REPLACE PROCEDURE SP_INS_ALTAS2_PTA_GIN
AS
CURSOR CTO_CUR IS
  SELECT PROIDE,PRONOM,PROAP1,PROAP2,PROVIA,PRONVIA,PRONUEX,PRONUIN,PROEDIF,
       PROMANZ,PROLOTE,PROCOLO,PROCPO,PROPOB,PROENTR,
       OFCR,CONEDO,PROTIP
FROM MP_PROFESIONAL
WHERE PROTIP = 'OTR' AND PROIDE IN (58468);


 CTO_REC CTO_CUR%ROWTYPE;
 

BEGIN


OPEN CTO_CUR;
	
  LOOP 
   FETCH CTO_CUR INTO CTO_REC;
    EXIT WHEN CTO_CUR%NOTFOUND;

 BEGIN
           

     INSERT INTO ALTAS2(CON_ID,CONNOM,CONAP1,CONAP2,CONTIPO,CONNVIA,CONNUEX,CONNUIN,
                  CONEDIF,CONMANZ,CONLOTE,CONPOBA,CONCPO,CONMUNI,CONENTR,CONADM,CONEDO,CODTIPO)
     VALUES (CTO_REC.PROIDE,CTO_REC.PRONOM,CTO_REC.PROAP1,CTO_REC.PROAP2,CTO_REC.PROVIA,
            CTO_REC.PRONVIA,CTO_REC.PRONUEX,CTO_REC.PRONUIN,CTO_REC.PROEDIF,
            CTO_REC.PROMANZ,CTO_REC.PROLOTE,CTO_REC.PROCOLO,CTO_REC.PROCPO,CTO_REC.PROPOB,
            CTO_REC.PROENTR,CTO_REC.OFCR,CTO_REC.CONEDO,CTO_REC.PROTIP);

     EXCEPTION WHEN OTHERS THEN

           NULL;
          
              
  END;
		      	
END LOOP;

  CLOSE CTO_CUR;
        

      COMMIT;
	                                
END;



